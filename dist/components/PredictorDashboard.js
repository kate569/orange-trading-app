"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PredictorDashboard = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const calculateMarketSignal_browser_1 = require("../calculateMarketSignal.browser");
const SliderControl = ({ label, value, min, max, step = 1, unit, onChange, }) => {
    return ((0, jsx_runtime_1.jsxs)("div", { className: "mb-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between items-center mb-2", children: [(0, jsx_runtime_1.jsx)("label", { className: "text-slate-300 text-sm font-medium uppercase tracking-wider", children: label }), (0, jsx_runtime_1.jsxs)("span", { className: "text-xl font-bold", style: { color: "#ff8c00" }, children: [value, unit] })] }), (0, jsx_runtime_1.jsx)("input", { type: "range", min: min, max: max, step: step, value: value, onChange: (e) => onChange(Number(e.target.value)), className: "w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer\n                   [&::-webkit-slider-thumb]:appearance-none\n                   [&::-webkit-slider-thumb]:w-5\n                   [&::-webkit-slider-thumb]:h-5\n                   [&::-webkit-slider-thumb]:rounded-full\n                   [&::-webkit-slider-thumb]:bg-[#ff8c00]\n                   [&::-webkit-slider-thumb]:cursor-pointer\n                   [&::-webkit-slider-thumb]:shadow-lg\n                   [&::-webkit-slider-thumb]:shadow-orange-500/30\n                   [&::-moz-range-thumb]:w-5\n                   [&::-moz-range-thumb]:h-5\n                   [&::-moz-range-thumb]:rounded-full\n                   [&::-moz-range-thumb]:bg-[#ff8c00]\n                   [&::-moz-range-thumb]:border-0\n                   [&::-moz-range-thumb]:cursor-pointer" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between text-xs text-slate-500 mt-1", children: [(0, jsx_runtime_1.jsxs)("span", { children: [min, unit] }), (0, jsx_runtime_1.jsxs)("span", { children: [max, unit] })] })] }));
};
const ToggleSwitch = ({ label, sublabel, checked, onChange, color = "orange", }) => {
    const colorClasses = {
        orange: "bg-[#ff8c00]",
        blue: "bg-blue-500",
        red: "bg-red-500",
    };
    return ((0, jsx_runtime_1.jsxs)("label", { className: "flex items-center justify-between cursor-pointer group", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "text-slate-300 text-sm font-medium", children: label }), sublabel && ((0, jsx_runtime_1.jsxs)("span", { className: "text-slate-500 text-xs ml-2", children: ["(", sublabel, ")"] }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)("input", { type: "checkbox", className: "sr-only", checked: checked, onChange: (e) => onChange(e.target.checked) }), (0, jsx_runtime_1.jsx)("div", { className: `w-11 h-6 rounded-full transition-colors ${checked ? colorClasses[color] : "bg-slate-600"}` }), (0, jsx_runtime_1.jsx)("div", { className: `absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow transition-transform ${checked ? "translate-x-5" : "translate-x-0"}` })] })] }));
};
const Checkbox = ({ label, checked, onChange }) => {
    return ((0, jsx_runtime_1.jsxs)("label", { className: "flex items-center gap-3 cursor-pointer ml-4 mt-2", children: [(0, jsx_runtime_1.jsx)("input", { type: "checkbox", checked: checked, onChange: (e) => onChange(e.target.checked), className: "w-4 h-4 rounded border-slate-500 bg-slate-700 text-red-500 \n                   focus:ring-red-500 focus:ring-offset-slate-900" }), (0, jsx_runtime_1.jsx)("span", { className: "text-slate-400 text-sm", children: label })] }));
};
const MarketContextSection = ({ context, onContextChange, }) => {
    return ((0, jsx_runtime_1.jsxs)("div", { className: "bg-slate-800/50 rounded-lg p-4 border border-slate-700 mb-6", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4", children: "Market Context" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsx)(ToggleSwitch, { label: "La Ni\u00F1a Active", sublabel: "ONI < -0.5", checked: context.isLaNina, onChange: (checked) => onContextChange({ ...context, isLaNina: checked }), color: "blue" }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)(ToggleSwitch, { label: "Hurricane Warning", checked: context.isHurricaneActive, onChange: (checked) => onContextChange({
                                    ...context,
                                    isHurricaneActive: checked,
                                    hurricaneCenterFarFromPolk: checked
                                        ? context.hurricaneCenterFarFromPolk
                                        : false,
                                }), color: "red" }), context.isHurricaneActive && ((0, jsx_runtime_1.jsx)(Checkbox, { label: "Is center > 100 miles from Polk County?", checked: context.hurricaneCenterFarFromPolk, onChange: (checked) => onContextChange({
                                    ...context,
                                    hurricaneCenterFarFromPolk: checked,
                                }) }))] })] })] }));
};
const SignalGauge = ({ action, isHurricaneFalseAlarm, }) => {
    const accentColor = isHurricaneFalseAlarm ? "#ef4444" : "#ff8c00";
    return ((0, jsx_runtime_1.jsxs)("div", { className: "relative p-6 rounded-xl text-center transition-all duration-300", style: {
            background: `linear-gradient(135deg, ${accentColor}26 0%, ${accentColor}0d 100%)`,
            border: `2px solid ${accentColor}`,
            boxShadow: `0 0 30px ${accentColor}4d, 0 0 60px ${accentColor}1a, inset 0 0 30px ${accentColor}0d`,
        }, children: [(0, jsx_runtime_1.jsx)("div", { className: "text-slate-400 text-sm uppercase tracking-wider mb-2", children: "Recommended Action" }), (0, jsx_runtime_1.jsx)("div", { className: "text-3xl font-black uppercase tracking-wide transition-colors duration-300", style: {
                    color: accentColor,
                    textShadow: `0 0 20px ${accentColor}80`,
                }, children: action }), isHurricaneFalseAlarm && ((0, jsx_runtime_1.jsx)("div", { className: "mt-2 text-red-400 text-xs uppercase tracking-wider", children: "\u26A0\uFE0F Short Opportunity Detected" }))] }));
};
const WinProbabilityMeter = ({ probability, }) => {
    const percentage = Math.round(probability * 100);
    const circumference = 2 * Math.PI * 45; // radius = 45
    const strokeDashoffset = circumference - (percentage / 100) * circumference;
    // Determine color based on probability
    const getColor = (prob) => {
        if (prob >= 0.7)
            return "#22c55e"; // green
        if (prob >= 0.5)
            return "#ff8c00"; // orange
        return "#ef4444"; // red
    };
    const color = getColor(probability);
    return ((0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col items-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-slate-400 text-sm uppercase tracking-wider mb-4", children: "Win Probability" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative w-32 h-32", children: [(0, jsx_runtime_1.jsxs)("svg", { className: "w-full h-full transform -rotate-90", children: [(0, jsx_runtime_1.jsx)("circle", { cx: "64", cy: "64", r: "45", stroke: "#334155", strokeWidth: "10", fill: "none" }), (0, jsx_runtime_1.jsx)("circle", { cx: "64", cy: "64", r: "45", stroke: color, strokeWidth: "10", fill: "none", strokeLinecap: "round", strokeDasharray: circumference, strokeDashoffset: strokeDashoffset, style: {
                                    filter: `drop-shadow(0 0 10px ${color})`,
                                    transition: "stroke-dashoffset 0.3s ease, stroke 0.3s ease",
                                } })] }), (0, jsx_runtime_1.jsx)("div", { className: "absolute inset-0 flex items-center justify-center", children: (0, jsx_runtime_1.jsxs)("span", { className: "text-3xl font-bold", style: { color, textShadow: `0 0 15px ${color}` }, children: [percentage, "%"] }) })] })] }));
};
const LogicInsight = ({ insight }) => {
    return ((0, jsx_runtime_1.jsxs)("div", { className: "bg-slate-800/50 rounded-lg p-4 border border-slate-700", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-slate-400 text-sm uppercase tracking-wider mb-3 flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: (0, jsx_runtime_1.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" }) }), "Logic Insight"] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2 text-sm", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-blue-400", children: "\u2744\uFE0F" }), (0, jsx_runtime_1.jsx)("span", { className: "text-slate-300", children: insight.frostCondition })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-amber-400", children: "\uD83D\uDCE6" }), (0, jsx_runtime_1.jsx)("span", { className: "text-slate-300", children: insight.inventoryCondition })] }), insight.laNinaEffect && ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-blue-300", children: "\uD83C\uDF0A" }), (0, jsx_runtime_1.jsx)("span", { className: "text-blue-300", children: insight.laNinaEffect })] })), insight.hurricaneEffect && ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "text-red-400", children: "\uD83C\uDF00" }), (0, jsx_runtime_1.jsx)("span", { className: "text-red-300", children: insight.hurricaneEffect })] })), (0, jsx_runtime_1.jsx)("div", { className: "mt-3 pt-3 border-t border-slate-700 text-slate-400", children: (0, jsx_runtime_1.jsxs)("span", { className: "text-xs", children: ["Base win rate: ", Math.round(insight.baseWinRate * 100), "% \u00D7", " ", insight.multiplierApplied, "x multiplier", insight.laNinaEffect && " × 1.4x La Niña"] }) })] })] }));
};
const PredictorDashboard = () => {
    const [currentTemp, setCurrentTemp] = (0, react_1.useState)(32);
    const [hoursBelow28, setHoursBelow28] = (0, react_1.useState)(0);
    const [currentInventory, setCurrentInventory] = (0, react_1.useState)(45);
    const [marketContext, setMarketContext] = (0, react_1.useState)({
        isLaNina: false,
        isHurricaneActive: false,
        hurricaneCenterFarFromPolk: false,
    });
    // Calculate signal instantly as sliders move
    const signal = (0, react_1.useMemo)(() => {
        return (0, calculateMarketSignal_browser_1.calculateMarketSignalBrowser)(currentTemp, hoursBelow28, currentInventory, marketContext);
    }, [currentTemp, hoursBelow28, currentInventory, marketContext]);
    // Dynamic border styling for La Niña effect
    const getDashboardBorderStyle = () => {
        if (signal.isLaNinaActive) {
            return {
                border: "1px solid rgba(59, 130, 246, 0.5)",
                boxShadow: "0 0 20px rgba(59, 130, 246, 0.2), 0 0 40px rgba(59, 130, 246, 0.1), inset 0 0 60px rgba(59, 130, 246, 0.03)",
            };
        }
        return {
            border: "1px solid rgb(30, 41, 59)",
        };
    };
    return ((0, jsx_runtime_1.jsx)("div", { className: "min-h-screen bg-slate-950 p-8", children: (0, jsx_runtime_1.jsxs)("div", { className: "max-w-4xl mx-auto rounded-2xl p-6 transition-all duration-500", style: getDashboardBorderStyle(), children: [(0, jsx_runtime_1.jsxs)("div", { className: "mb-10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold text-white", children: "Market Signal Predictor" }), signal.isLaNinaActive && ((0, jsx_runtime_1.jsx)("span", { className: "px-2 py-1 text-xs font-semibold bg-blue-500/20 text-blue-400 rounded-full border border-blue-500/30", children: "\uD83C\uDF0A La Ni\u00F1a Active" }))] }), (0, jsx_runtime_1.jsx)("p", { className: "text-slate-400 mt-2", children: "Orange Juice Futures Trading Analysis" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "bg-slate-900 rounded-xl p-6 border border-slate-800 shadow-2xl", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold text-slate-200 mb-6 pb-4 border-b border-slate-700", children: "Input Parameters" }), (0, jsx_runtime_1.jsx)(MarketContextSection, { context: marketContext, onContextChange: setMarketContext }), (0, jsx_runtime_1.jsx)(SliderControl, { label: "Current Temperature", value: currentTemp, min: 15, max: 50, unit: "\u00B0F", onChange: setCurrentTemp }), (0, jsx_runtime_1.jsx)(SliderControl, { label: "Hours Below 28\u00B0F", value: hoursBelow28, min: 0, max: 12, unit: " hrs", onChange: setHoursBelow28 }), (0, jsx_runtime_1.jsx)(SliderControl, { label: "Current Inventory", value: currentInventory, min: 20, max: 70, unit: "M", onChange: setCurrentInventory })] }), (0, jsx_runtime_1.jsxs)("div", { className: "bg-slate-900 rounded-xl p-6 border border-slate-800 shadow-2xl", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-lg font-semibold text-slate-200 mb-6 pb-4 border-b border-slate-700", children: "Prediction Results" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsx)(SignalGauge, { action: signal.recommendedAction, isHurricaneFalseAlarm: signal.isHurricaneFalseAlarm }), (0, jsx_runtime_1.jsx)(WinProbabilityMeter, { probability: signal.winProbability }), (0, jsx_runtime_1.jsx)(LogicInsight, { insight: signal.insight })] })] })] })] }) }));
};
exports.PredictorDashboard = PredictorDashboard;
exports.default = exports.PredictorDashboard;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJlZGljdG9yRGFzaGJvYXJkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbXBvbmVudHMvUHJlZGljdG9yRGFzaGJvYXJkLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUNBQWlEO0FBQ2pELG9GQUkwQztBQVkxQyxNQUFNLGFBQWEsR0FBaUMsQ0FBQyxFQUNuRCxLQUFLLEVBQ0wsS0FBSyxFQUNMLEdBQUcsRUFDSCxHQUFHLEVBQ0gsSUFBSSxHQUFHLENBQUMsRUFDUixJQUFJLEVBQ0osUUFBUSxHQUNULEVBQUUsRUFBRTtJQUNILE9BQU8sQ0FDTCxpQ0FBSyxTQUFTLEVBQUMsTUFBTSxhQUNuQixpQ0FBSyxTQUFTLEVBQUMsd0NBQXdDLGFBQ3JELGtDQUFPLFNBQVMsRUFBQyw2REFBNkQsWUFDM0UsS0FBSyxHQUNBLEVBQ1Isa0NBQU0sU0FBUyxFQUFDLG1CQUFtQixFQUFDLEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsYUFDNUQsS0FBSyxFQUNMLElBQUksSUFDQSxJQUNILEVBQ04sa0NBQ0UsSUFBSSxFQUFDLE9BQU8sRUFDWixHQUFHLEVBQUUsR0FBRyxFQUNSLEdBQUcsRUFBRSxHQUFHLEVBQ1IsSUFBSSxFQUFFLElBQUksRUFDVixLQUFLLEVBQUUsS0FBSyxFQUNaLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQ2pELFNBQVMsRUFBQyx5MEJBY3NDLEdBQ2hELEVBQ0YsaUNBQUssU0FBUyxFQUFDLGtEQUFrRCxhQUMvRCw2Q0FDRyxHQUFHLEVBQ0gsSUFBSSxJQUNBLEVBQ1AsNkNBQ0csR0FBRyxFQUNILElBQUksSUFDQSxJQUNILElBQ0YsQ0FDUCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBVUYsTUFBTSxZQUFZLEdBQWdDLENBQUMsRUFDakQsS0FBSyxFQUNM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QUFRLEVBQUUsY0FBYyxHQUN4QixFQUVGLHVCQUFDLGFBQWEsSUFDWixLQUFLLEVBQUMsdUJBQWtCLEVBQ3hCLEtBQUssRUFBRSxZQUFZLEVBQ25CLEdBQUcsRUFBRSxDQUFDLEVBQ04sR0FBRyxFQUFFLEVBQUUsRUFDUCxJQUFJLEVBQUMsTUFBTSxFQUNYLFFBQVEsRUFBRSxlQUFlLEdBQ3pCLEVBRUYsdUJBQUMsYUFBYSxJQUNaLEtBQUssRUFBQyxtQkFBbUIsRUFDekIsS0FBSyxFQUFFLGdCQUFnQixFQUN2QixHQUFHLEVBQUUsRUFBRSxFQUNQLEdBQUcsRUFBRSxFQUFFLEVBQ1AsSUFBSSxFQUFDLEdBQUcsRUFDUixRQUFRLEVBQUUsbUJBQW1CLEdBQzdCLElBQ0UsRUFHTixpQ0FBSyxTQUFTLEVBQUMsZ0VBQWdFLGFBQzdFLCtCQUFJLFNBQVMsRUFBQywwRUFBMEUsbUNBRW5GLEVBRUwsaUNBQUssU0FBUyxFQUFDLFdBQVcsYUFFeEIsdUJBQUMsV0FBVyxJQUNWLE1BQU0sRUFBRSxNQUFNLENBQUMsaUJBQWlCLEVBQ2hDLHFCQUFxQixFQUFFLE1BQU0sQ0FBQyxxQkFBcUIsR0FDbkQsRUFHRix1QkFBQyxtQkFBbUIsSUFBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLGNBQWMsR0FBSSxFQUczRCx1QkFBQyxZQUFZLElBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEdBQUksSUFDckMsSUFDRixJQUNGLElBQ0YsR0FDRixDQUNQLENBQUM7QUFDSixDQUFDLENBQUM7QUExSFcsUUFBQSxrQkFBa0Isc0JBMEg3QjtBQUVGLGtCQUFlLDBCQUFrQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBjYWxjdWxhdGVNYXJrZXRTaWduYWxCcm93c2VyLFxuICBNYXJrZXRTaWduYWxSZXN1bHRXaXRoSW5zaWdodCxcbiAgTWFya2V0Q29udGV4dFBhcmFtcyxcbn0gZnJvbSBcIi4uL2NhbGN1bGF0ZU1hcmtldFNpZ25hbC5icm93c2VyXCI7XG5cbmludGVyZmFjZSBTbGlkZXJDb250cm9sUHJvcHMge1xuICBsYWJlbDogc3RyaW5nO1xuICB2YWx1ZTogbnVtYmVyO1xuICBtaW46IG51bWJlcjtcbiAgbWF4OiBudW1iZXI7XG4gIHN0ZXA/OiBudW1iZXI7XG4gIHVuaXQ6IHN0cmluZztcbiAgb25DaGFuZ2U6ICh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5jb25zdCBTbGlkZXJDb250cm9sOiBSZWFjdC5GQzxTbGlkZXJDb250cm9sUHJvcHM+ID0gKHtcbiAgbGFiZWwsXG4gIHZhbHVlLFxuICBtaW4sXG4gIG1heCxcbiAgc3RlcCA9IDEsXG4gIHVuaXQsXG4gIG9uQ2hhbmdlLFxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMlwiPlxuICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS0zMDAgdGV4dC1zbSBmb250LW1lZGl1bSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5cbiAgICAgICAgICB7bGFiZWx9XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCIgc3R5bGU9e3sgY29sb3I6IFwiI2ZmOGMwMFwiIH19PlxuICAgICAgICAgIHt2YWx1ZX1cbiAgICAgICAgICB7dW5pdH1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgbWluPXttaW59XG4gICAgICAgIG1heD17bWF4fVxuICAgICAgICBzdGVwPXtzdGVwfVxuICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoTnVtYmVyKGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTIgYmctc2xhdGUtNzAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyXG4gICAgICAgICAgICAgICAgICAgWyY6Oi13ZWJraXQtc2xpZGVyLXRodW1iXTphcHBlYXJhbmNlLW5vbmVcbiAgICAgICAgICAgICAgICAgICBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOnctNVxuICAgICAgICAgICAgICAgICAgIFsmOjotd2Via2l0LXNsaWRlci10aHVtYl06aC01XG4gICAgICAgICAgICAgICAgICAgWyY6Oi13ZWJraXQtc2xpZGVyLXRodW1iXTpyb3VuZGVkLWZ1bGxcbiAgICAgICAgICAgICAgICAgICBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOmJnLVsjZmY4YzAwXVxuICAgICAgICAgICAgICAgICAgIFsmOjotd2Via2l0LXNsaWRlci10aHVtYl06Y3Vyc29yLXBvaW50ZXJcbiAgICAgICAgICAgICAgICAgICBbJjo6LXdlYmtpdC1zbGlkZXItdGh1bWJdOnNoYWRvdy1sZ1xuICAgICAgICAgICAgICAgICAgIFsmOjotd2Via2l0LXNsaWRlci10aHVtYl06c2hhZG93LW9yYW5nZS01MDAvMzBcbiAgICAgICAgICAgICAgICAgICBbJjo6LW1vei1yYW5nZS10aHVtYl06dy01XG4gICAgICAgICAgICAgICAgICAgWyY6Oi1tb3otcmFuZ2UtdGh1bWJdOmgtNVxuICAgICAgICAgICAgICAgICAgIFsmOjotbW96LXJhbmdlLXRodW1iXTpyb3VuZGVkLWZ1bGxcbiAgICAgICAgICAgICAgICAgICBbJjo6LW1vei1yYW5nZS10aHVtYl06YmctWyNmZjhjMDBdXG4gICAgICAgICAgICAgICAgICAgWyY6Oi1tb3otcmFuZ2UtdGh1bWJdOmJvcmRlci0wXG4gICAgICAgICAgICAgICAgICAgWyY6Oi1tb3otcmFuZ2UtdGh1bWJdOmN1cnNvci1wb2ludGVyXCJcbiAgICAgIC8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1zbGF0ZS01MDAgbXQtMVwiPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICB7bWlufVxuICAgICAgICAgIHt1bml0fVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxzcGFuPlxuICAgICAgICAgIHttYXh9XG4gICAgICAgICAge3VuaXR9XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuaW50ZXJmYWNlIFRvZ2dsZVN3aXRjaFByb3BzIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgc3VibGFiZWw/OiBzdHJpbmc7XG4gIGNoZWNrZWQ6IGJvb2xlYW47XG4gIG9uQ2hhbmdlOiAoY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgY29sb3I/OiBcIm9yYW5nZVwiIHwgXCJibHVlXCIgfCBcInJlZFwiO1xufVxuXG5jb25zdCBUb2dnbGVTd2l0Y2g6IFJlYWN0LkZDPFRvZ2dsZVN3aXRjaFByb3BzPiA9ICh7XG4gIGxhYmVsLFxuICBzdWJsYWJlbCxcbiAgY2hlY2tlZCxcbiAgb25DaGFuZ2UsXG4gIGNvbG9yID0gXCJvcmFuZ2VcIixcbn0pID0+IHtcbiAgY29uc3QgY29sb3JDbGFzc2VzID0ge1xuICAgIG9yYW5nZTogXCJiZy1bI2ZmOGMwMF1cIixcbiAgICBibHVlOiBcImJnLWJsdWUtNTAwXCIsXG4gICAgcmVkOiBcImJnLXJlZC01MDBcIixcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gY3Vyc29yLXBvaW50ZXIgZ3JvdXBcIj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtMzAwIHRleHQtc20gZm9udC1tZWRpdW1cIj57bGFiZWx9PC9zcGFuPlxuICAgICAgICB7c3VibGFiZWwgJiYgKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNTAwIHRleHQteHMgbWwtMlwiPih7c3VibGFiZWx9KTwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cInNyLW9ubHlcIlxuICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17YHctMTEgaC02IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgY2hlY2tlZCA/IGNvbG9yQ2xhc3Nlc1tjb2xvcl0gOiBcImJnLXNsYXRlLTYwMFwiXG4gICAgICAgICAgfWB9XG4gICAgICAgIC8+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSB0b3AtMC41IGxlZnQtMC41IHctNSBoLTUgYmctd2hpdGUgcm91bmRlZC1mdWxsIHNoYWRvdyB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke1xuICAgICAgICAgICAgY2hlY2tlZCA/IFwidHJhbnNsYXRlLXgtNVwiIDogXCJ0cmFuc2xhdGUteC0wXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvbGFiZWw+XG4gICk7XG59O1xuXG5pbnRlcmZhY2UgQ2hlY2tib3hQcm9wcyB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGNoZWNrZWQ6IGJvb2xlYW47XG4gIG9uQ2hhbmdlOiAoY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuY29uc3QgQ2hlY2tib3g6IFJlYWN0LkZDPENoZWNrYm94UHJvcHM+ID0gKHsgbGFiZWwsIGNoZWNrZWQsIG9uQ2hhbmdlIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgY3Vyc29yLXBvaW50ZXIgbWwtNCBtdC0yXCI+XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgY2hlY2tlZD17Y2hlY2tlZH1cbiAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgY2xhc3NOYW1lPVwidy00IGgtNCByb3VuZGVkIGJvcmRlci1zbGF0ZS01MDAgYmctc2xhdGUtNzAwIHRleHQtcmVkLTUwMCBcbiAgICAgICAgICAgICAgICAgICBmb2N1czpyaW5nLXJlZC01MDAgZm9jdXM6cmluZy1vZmZzZXQtc2xhdGUtOTAwXCJcbiAgICAgIC8+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNtXCI+e2xhYmVsfTwvc3Bhbj5cbiAgICA8L2xhYmVsPlxuICApO1xufTtcblxuaW50ZXJmYWNlIE1hcmtldENvbnRleHRTZWN0aW9uUHJvcHMge1xuICBjb250ZXh0OiBNYXJrZXRDb250ZXh0UGFyYW1zO1xuICBvbkNvbnRleHRDaGFuZ2U6IChjb250ZXh0OiBNYXJrZXRDb250ZXh0UGFyYW1zKSA9PiB2b2lkO1xufVxuXG5jb25zdCBNYXJrZXRDb250ZXh0U2VjdGlvbjogUmVhY3QuRkM8TWFya2V0Q29udGV4dFNlY3Rpb25Qcm9wcz4gPSAoe1xuICBjb250ZXh0LFxuICBvbkNvbnRleHRDaGFuZ2UsXG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zbGF0ZS04MDAvNTAgcm91bmRlZC1sZyBwLTQgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDAgbWItNlwiPlxuICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItNFwiPlxuICAgICAgICBNYXJrZXQgQ29udGV4dFxuICAgICAgPC9oMz5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxUb2dnbGVTd2l0Y2hcbiAgICAgICAgICBsYWJlbD1cIkxhIE5pw7FhIEFjdGl2ZVwiXG4gICAgICAgICAgc3VibGFiZWw9XCJPTkkgPCAtMC41XCJcbiAgICAgICAgICBjaGVja2VkPXtjb250ZXh0LmlzTGFOaW5hfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoY2hlY2tlZCkgPT5cbiAgICAgICAgICAgIG9uQ29udGV4dENoYW5nZSh7IC4uLmNvbnRleHQsIGlzTGFOaW5hOiBjaGVja2VkIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbG9yPVwiYmx1ZVwiXG4gICAgICAgIC8+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPFRvZ2dsZVN3aXRjaFxuICAgICAgICAgICAgbGFiZWw9XCJIdXJyaWNhbmUgV2FybmluZ1wiXG4gICAgICAgICAgICBjaGVja2VkPXtjb250ZXh0LmlzSHVycmljYW5lQWN0aXZlfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhjaGVja2VkKSA9PlxuICAgICAgICAgICAgICBvbkNvbnRleHRDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgICAgICAgaXNIdXJyaWNhbmVBY3RpdmU6IGNoZWNrZWQsXG4gICAgICAgICAgICAgICAgaHVycmljYW5lQ2VudGVyRmFyRnJvbVBvbGs6IGNoZWNrZWRcbiAgICAgICAgICAgICAgICAgID8gY29udGV4dC5odXJyaWNhbmVDZW50ZXJGYXJGcm9tUG9sa1xuICAgICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbG9yPVwicmVkXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIHtjb250ZXh0LmlzSHVycmljYW5lQWN0aXZlICYmIChcbiAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICBsYWJlbD1cIklzIGNlbnRlciA+IDEwMCBtaWxlcyBmcm9tIFBvbGsgQ291bnR5P1wiXG4gICAgICAgICAgICAgIGNoZWNrZWQ9e2NvbnRleHQuaHVycmljYW5lQ2VudGVyRmFyRnJvbVBvbGt9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoY2hlY2tlZCkgPT5cbiAgICAgICAgICAgICAgICBvbkNvbnRleHRDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgICAgICAgIGh1cnJpY2FuZUNlbnRlckZhckZyb21Qb2xrOiBjaGVja2VkLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmludGVyZmFjZSBTaWduYWxHYXVnZVByb3BzIHtcbiAgYWN0aW9uOiBzdHJpbmc7XG4gIGlzSHVycmljYW5lRmFsc2VBbGFybTogYm9vbGVhbjtcbn1cblxuY29uc3QgU2lnbmFsR2F1Z2U6IFJlYWN0LkZDPFNpZ25hbEdhdWdlUHJvcHM+ID0gKHtcbiAgYWN0aW9uLFxuICBpc0h1cnJpY2FuZUZhbHNlQWxhcm0sXG59KSA9PiB7XG4gIGNvbnN0IGFjY2VudENvbG9yID0gaXNIdXJyaWNhbmVGYWxzZUFsYXJtID8gXCIjZWY0NDQ0XCIgOiBcIiNmZjhjMDBcIjtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIHAtNiByb3VuZGVkLXhsIHRleHQtY2VudGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiXG4gICAgICBzdHlsZT17e1xuICAgICAgICBiYWNrZ3JvdW5kOiBgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHthY2NlbnRDb2xvcn0yNiAwJSwgJHthY2NlbnRDb2xvcn0wZCAxMDAlKWAsXG4gICAgICAgIGJvcmRlcjogYDJweCBzb2xpZCAke2FjY2VudENvbG9yfWAsXG4gICAgICAgIGJveFNoYWRvdzogYDAgMCAzMHB4ICR7YWNjZW50Q29sb3J9NGQsIDAgMCA2MHB4ICR7YWNjZW50Q29sb3J9MWEsIGluc2V0IDAgMCAzMHB4ICR7YWNjZW50Q29sb3J9MGRgLFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIHRleHQtc20gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIG1iLTJcIj5cbiAgICAgICAgUmVjb21tZW5kZWQgQWN0aW9uXG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ibGFjayB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDBcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGNvbG9yOiBhY2NlbnRDb2xvcixcbiAgICAgICAgICB0ZXh0U2hhZG93OiBgMCAwIDIwcHggJHthY2NlbnRDb2xvcn04MGAsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHthY3Rpb259XG4gICAgICA8L2Rpdj5cbiAgICAgIHtpc0h1cnJpY2FuZUZhbHNlQWxhcm0gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgdGV4dC1yZWQtNDAwIHRleHQteHMgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCI+XG4gICAgICAgICAg4pqg77iPIFNob3J0IE9wcG9ydHVuaXR5IERldGVjdGVkXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmludGVyZmFjZSBXaW5Qcm9iYWJpbGl0eU1ldGVyUHJvcHMge1xuICBwcm9iYWJpbGl0eTogbnVtYmVyO1xufVxuXG5jb25zdCBXaW5Qcm9iYWJpbGl0eU1ldGVyOiBSZWFjdC5GQzxXaW5Qcm9iYWJpbGl0eU1ldGVyUHJvcHM+ID0gKHtcbiAgcHJvYmFiaWxpdHksXG59KSA9PiB7XG4gIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKHByb2JhYmlsaXR5ICogMTAwKTtcbiAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IDIgKiBNYXRoLlBJICogNDU7IC8vIHJhZGl1cyA9IDQ1XG4gIGNvbnN0IHN0cm9rZURhc2hvZmZzZXQgPSBjaXJjdW1mZXJlbmNlIC0gKHBlcmNlbnRhZ2UgLyAxMDApICogY2lyY3VtZmVyZW5jZTtcblxuICAvLyBEZXRlcm1pbmUgY29sb3IgYmFzZWQgb24gcHJvYmFiaWxpdHlcbiAgY29uc3QgZ2V0Q29sb3IgPSAocHJvYjogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHByb2IgPj0gMC43KSByZXR1cm4gXCIjMjJjNTVlXCI7IC8vIGdyZWVuXG4gICAgaWYgKHByb2IgPj0gMC41KSByZXR1cm4gXCIjZmY4YzAwXCI7IC8vIG9yYW5nZVxuICAgIHJldHVybiBcIiNlZjQ0NDRcIjsgLy8gcmVkXG4gIH07XG5cbiAgY29uc3QgY29sb3IgPSBnZXRDb2xvcihwcm9iYWJpbGl0eSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNDAwIHRleHQtc20gdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIG1iLTRcIj5cbiAgICAgICAgV2luIFByb2JhYmlsaXR5XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy0zMiBoLTMyXCI+XG4gICAgICAgIHsvKiBCYWNrZ3JvdW5kIGNpcmNsZSAqL31cbiAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIHRyYW5zZm9ybSAtcm90YXRlLTkwXCI+XG4gICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgY3g9XCI2NFwiXG4gICAgICAgICAgICBjeT1cIjY0XCJcbiAgICAgICAgICAgIHI9XCI0NVwiXG4gICAgICAgICAgICBzdHJva2U9XCIjMzM0MTU1XCJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMTBcIlxuICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgey8qIFByb2dyZXNzIGNpcmNsZSAqL31cbiAgICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgICBjeD1cIjY0XCJcbiAgICAgICAgICAgIGN5PVwiNjRcIlxuICAgICAgICAgICAgcj1cIjQ1XCJcbiAgICAgICAgICAgIHN0cm9rZT17Y29sb3J9XG4gICAgICAgICAgICBzdHJva2VXaWR0aD1cIjEwXCJcbiAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9e2NpcmN1bWZlcmVuY2V9XG4gICAgICAgICAgICBzdHJva2VEYXNob2Zmc2V0PXtzdHJva2VEYXNob2Zmc2V0fVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgZmlsdGVyOiBgZHJvcC1zaGFkb3coMCAwIDEwcHggJHtjb2xvcn0pYCxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJzdHJva2UtZGFzaG9mZnNldCAwLjNzIGVhc2UsIHN0cm9rZSAwLjNzIGVhc2VcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIHsvKiBDZW50ZXIgdGV4dCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZFwiXG4gICAgICAgICAgICBzdHlsZT17eyBjb2xvciwgdGV4dFNoYWRvdzogYDAgMCAxNXB4ICR7Y29sb3J9YCB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtwZXJjZW50YWdlfSVcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5pbnRlcmZhY2UgTG9naWNJbnNpZ2h0UHJvcHMge1xuICBpbnNpZ2h0OiBNYXJrZXRTaWduYWxSZXN1bHRXaXRoSW5zaWdodFtcImluc2lnaHRcIl07XG59XG5cbmNvbnN0IExvZ2ljSW5zaWdodDogUmVhY3QuRkM8TG9naWNJbnNpZ2h0UHJvcHM+ID0gKHsgaW5zaWdodCB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zbGF0ZS04MDAvNTAgcm91bmRlZC1sZyBwLTQgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgdGV4dC1zbSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgbWItMyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICA8c3ZnXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy00IGgtNFwiXG4gICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgID5cbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICAgICAgICBkPVwiTTEzIDE2aC0xdi00aC0xbTEtNGguMDFNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6XCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgTG9naWMgSW5zaWdodFxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiB0ZXh0LXNtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMlwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS00MDBcIj7inYTvuI88L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS0zMDBcIj57aW5zaWdodC5mcm9zdENvbmRpdGlvbn08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTJcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWFtYmVyLTQwMFwiPvCfk6Y8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS0zMDBcIj57aW5zaWdodC5pbnZlbnRvcnlDb25kaXRpb259PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2luc2lnaHQubGFOaW5hRWZmZWN0ICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS0zMDBcIj7wn4yKPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTMwMFwiPntpbnNpZ2h0LmxhTmluYUVmZmVjdH08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIHtpbnNpZ2h0Lmh1cnJpY2FuZUVmZmVjdCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC00MDBcIj7wn4yAPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtMzAwXCI+e2luc2lnaHQuaHVycmljYW5lRWZmZWN0fTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHB0LTMgYm9yZGVyLXQgYm9yZGVyLXNsYXRlLTcwMCB0ZXh0LXNsYXRlLTQwMFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHNcIj5cbiAgICAgICAgICAgIEJhc2Ugd2luIHJhdGU6IHtNYXRoLnJvdW5kKGluc2lnaHQuYmFzZVdpblJhdGUgKiAxMDApfSUgw5d7XCIgXCJ9XG4gICAgICAgICAgICB7aW5zaWdodC5tdWx0aXBsaWVyQXBwbGllZH14IG11bHRpcGxpZXJcbiAgICAgICAgICAgIHtpbnNpZ2h0LmxhTmluYUVmZmVjdCAmJiBcIiDDlyAxLjR4IExhIE5pw7FhXCJ9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IFByZWRpY3RvckRhc2hib2FyZDogUmVhY3QuRkMgPSAoKSA9PiB7XG4gIGNvbnN0IFtjdXJyZW50VGVtcCwgc2V0Q3VycmVudFRlbXBdID0gdXNlU3RhdGU8bnVtYmVyPigzMik7XG4gIGNvbnN0IFtob3Vyc0JlbG93MjgsIHNldEhvdXJzQmVsb3cyOF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbY3VycmVudEludmVudG9yeSwgc2V0Q3VycmVudEludmVudG9yeV0gPSB1c2VTdGF0ZTxudW1iZXI+KDQ1KTtcbiAgY29uc3QgW21hcmtldENvbnRleHQsIHNldE1hcmtldENvbnRleHRdID0gdXNlU3RhdGU8TWFya2V0Q29udGV4dFBhcmFtcz4oe1xuICAgIGlzTGFOaW5hOiBmYWxzZSxcbiAgICBpc0h1cnJpY2FuZUFjdGl2ZTogZmFsc2UsXG4gICAgaHVycmljYW5lQ2VudGVyRmFyRnJvbVBvbGs6IGZhbHNlLFxuICB9KTtcblxuICAvLyBDYWxjdWxhdGUgc2lnbmFsIGluc3RhbnRseSBhcyBzbGlkZXJzIG1vdmVcbiAgY29uc3Qgc2lnbmFsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGNhbGN1bGF0ZU1hcmtldFNpZ25hbEJyb3dzZXIoXG4gICAgICBjdXJyZW50VGVtcCxcbiAgICAgIGhvdXJzQmVsb3cyOCxcbiAgICAgIGN1cnJlbnRJbnZlbnRvcnksXG4gICAgICBtYXJrZXRDb250ZXh0XG4gICAgKTtcbiAgfSwgW2N1cnJlbnRUZW1wLCBob3Vyc0JlbG93MjgsIGN1cnJlbnRJbnZlbnRvcnksIG1hcmtldENvbnRleHRdKTtcblxuICAvLyBEeW5hbWljIGJvcmRlciBzdHlsaW5nIGZvciBMYSBOacOxYSBlZmZlY3RcbiAgY29uc3QgZ2V0RGFzaGJvYXJkQm9yZGVyU3R5bGUgPSAoKSA9PiB7XG4gICAgaWYgKHNpZ25hbC5pc0xhTmluYUFjdGl2ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCByZ2JhKDU5LCAxMzAsIDI0NiwgMC41KVwiLFxuICAgICAgICBib3hTaGFkb3c6XG4gICAgICAgICAgXCIwIDAgMjBweCByZ2JhKDU5LCAxMzAsIDI0NiwgMC4yKSwgMCAwIDQwcHggcmdiYSg1OSwgMTMwLCAyNDYsIDAuMSksIGluc2V0IDAgMCA2MHB4IHJnYmEoNTksIDEzMCwgMjQ2LCAwLjAzKVwiLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvcmRlcjogXCIxcHggc29saWQgcmdiKDMwLCA0MSwgNTkpXCIsXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXNsYXRlLTk1MCBwLThcIj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcm91bmRlZC0yeGwgcC02IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTUwMFwiXG4gICAgICAgIHN0eWxlPXtnZXREYXNoYm9hcmRCb3JkZXJTdHlsZSgpfVxuICAgICAgPlxuICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTEwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgIE1hcmtldCBTaWduYWwgUHJlZGljdG9yXG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAge3NpZ25hbC5pc0xhTmluYUFjdGl2ZSAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgYmctYmx1ZS01MDAvMjAgdGV4dC1ibHVlLTQwMCByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1ibHVlLTUwMC8zMFwiPlxuICAgICAgICAgICAgICAgIPCfjIogTGEgTmnDsWEgQWN0aXZlXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS00MDAgbXQtMlwiPlxuICAgICAgICAgICAgT3JhbmdlIEp1aWNlIEZ1dHVyZXMgVHJhZGluZyBBbmFseXNpc1xuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIGxnOmdyaWQtY29scy0yIGdhcC02XCI+XG4gICAgICAgICAgey8qIENvbnRyb2wgUGFuZWwgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zbGF0ZS05MDAgcm91bmRlZC14bCBwLTYgYm9yZGVyIGJvcmRlci1zbGF0ZS04MDAgc2hhZG93LTJ4bFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LXNsYXRlLTIwMCBtYi02IHBiLTQgYm9yZGVyLWIgYm9yZGVyLXNsYXRlLTcwMFwiPlxuICAgICAgICAgICAgICBJbnB1dCBQYXJhbWV0ZXJzXG4gICAgICAgICAgICA8L2gyPlxuXG4gICAgICAgICAgICB7LyogTWFya2V0IENvbnRleHQgU2VjdGlvbiAqL31cbiAgICAgICAgICAgIDxNYXJrZXRDb250ZXh0U2VjdGlvblxuICAgICAgICAgICAgICBjb250ZXh0PXttYXJrZXRDb250ZXh0fVxuICAgICAgICAgICAgICBvbkNvbnRleHRDaGFuZ2U9e3NldE1hcmtldENvbnRleHR9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8U2xpZGVyQ29udHJvbFxuICAgICAgICAgICAgICBsYWJlbD1cIkN1cnJlbnQgVGVtcGVyYXR1cmVcIlxuICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudFRlbXB9XG4gICAgICAgICAgICAgIG1pbj17MTV9XG4gICAgICAgICAgICAgIG1heD17NTB9XG4gICAgICAgICAgICAgIHVuaXQ9XCLCsEZcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17c2V0Q3VycmVudFRlbXB9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8U2xpZGVyQ29udHJvbFxuICAgICAgICAgICAgICBsYWJlbD1cIkhvdXJzIEJlbG93IDI4wrBGXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2hvdXJzQmVsb3cyOH1cbiAgICAgICAgICAgICAgbWluPXswfVxuICAgICAgICAgICAgICBtYXg9ezEyfVxuICAgICAgICAgICAgICB1bml0PVwiIGhyc1wiXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRIb3Vyc0JlbG93Mjh9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICA8U2xpZGVyQ29udHJvbFxuICAgICAgICAgICAgICBsYWJlbD1cIkN1cnJlbnQgSW52ZW50b3J5XCJcbiAgICAgICAgICAgICAgdmFsdWU9e2N1cnJlbnRJbnZlbnRvcnl9XG4gICAgICAgICAgICAgIG1pbj17MjB9XG4gICAgICAgICAgICAgIG1heD17NzB9XG4gICAgICAgICAgICAgIHVuaXQ9XCJNXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldEN1cnJlbnRJbnZlbnRvcnl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFByZWRpY3Rpb24gUmVzdWx0cyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXNsYXRlLTkwMCByb3VuZGVkLXhsIHAtNiBib3JkZXIgYm9yZGVyLXNsYXRlLTgwMCBzaGFkb3ctMnhsXCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtc2xhdGUtMjAwIG1iLTYgcGItNCBib3JkZXItYiBib3JkZXItc2xhdGUtNzAwXCI+XG4gICAgICAgICAgICAgIFByZWRpY3Rpb24gUmVzdWx0c1xuICAgICAgICAgICAgPC9oMj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgey8qIFNpZ25hbCBHYXVnZSAqL31cbiAgICAgICAgICAgICAgPFNpZ25hbEdhdWdlXG4gICAgICAgICAgICAgICAgYWN0aW9uPXtzaWduYWwucmVjb21tZW5kZWRBY3Rpb259XG4gICAgICAgICAgICAgICAgaXNIdXJyaWNhbmVGYWxzZUFsYXJtPXtzaWduYWwuaXNIdXJyaWNhbmVGYWxzZUFsYXJtfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIHsvKiBXaW4gUHJvYmFiaWxpdHkgTWV0ZXIgKi99XG4gICAgICAgICAgICAgIDxXaW5Qcm9iYWJpbGl0eU1ldGVyIHByb2JhYmlsaXR5PXtzaWduYWwud2luUHJvYmFiaWxpdHl9IC8+XG5cbiAgICAgICAgICAgICAgey8qIExvZ2ljIEluc2lnaHQgKi99XG4gICAgICAgICAgICAgIDxMb2dpY0luc2lnaHQgaW5zaWdodD17c2lnbmFsLmluc2lnaHR9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByZWRpY3RvckRhc2hib2FyZDtcbiJdfQ==